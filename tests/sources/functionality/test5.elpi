:functional 
pred p i:int, o:int.

:functional
pred q i:int, o:int.

q 1 1.
      /* the local premise makes q not functional... */
p 1 X :- (pi x\ q 1 x :- x = 4) => q 1 X.

main.